import { Center, Loader } from "@mantine/core";
import { useShallowEffect } from "@mantine/hooks";
import { Inter } from "next/font/google";
import { useRouter } from "next/router";
import { useState } from "react";
// import styles from '@/styles/Home.module.css'

const inter = Inter({ subsets: ["latin"] });

export default function Home() {
  const router = useRouter();
  const [strToken, setStrToken] = useState("")

  useShallowEffect(() => {
    fetch('/api/str-token').then(v => v.text()).then(v => setStrToken(v))
  }, [])

  useShallowEffect(() => {
    if (window) {
      setTimeout(() => {
        return router.replace("/dashboard")
      }, 100)
    }
  }, [])

  return <Center><Loader /></Center>
  // return (
  //   <>
  //     <Head>
  //       <title>Dashboard</title>
  //       <meta name="description" content="Generated by create next app" />
  //       <meta name="viewport" content="width=device-width, initial-scale=1" />
  //       <link rel="icon" href="/favicon.ico" />
  //     </Head>
  //     <Container bg={"gray"}>
  //       {/* <MyMain /> */}
  //       <Center h={"100vh"}>
  //         <Stack>
  //           <Image src={'/logo-1.png'} alt={"logo"} />
  //           <Text c={"white"} align="center">Bip Production</Text>
  //           <Button onClick={() => router.replace("/dashboard")}>
  //             Dashboard
  //           </Button>
  //         </Stack>
  //       </Center>
  //     </Container>
  //   </>
  // );
}
